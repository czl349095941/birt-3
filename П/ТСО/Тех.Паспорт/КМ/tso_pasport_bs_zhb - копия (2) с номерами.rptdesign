<?xml version="1.0" encoding="UTF-8"?>
<report xmlns="http://www.eclipse.org/birt/2005/design" version="3.2.17" id="1">
    <property name="createdBy">Eclipse BIRT Designer Version 2.3.2.r232_20090202 Build &lt;2.3.2.v20090218-0730></property>
    <property name="units">in</property>
    <property name="comments">IBM Confidential

OCO Source Materials

5724-M19

(C) COPYRIGHT IBM CORP. 2006

The source code for this program is not published or otherwise
divested of its trade secrets, irrespective of what has been
deposited with the U.S. Copyright Office.</property>
    <html-property name="description">This template will create a report with one or more groups, each having identical data fields, and contains three styles of charts.</html-property>
    <list-property name="userProperties">
        <structure>
            <property name="name">Data Cube.11.x</property>
            <property name="type">integer</property>
            <property name="isVisible">false</property>
        </structure>
        <structure>
            <property name="name">Data Cube.11.y</property>
            <property name="type">integer</property>
            <property name="isVisible">false</property>
        </structure>
    </list-property>
    <property name="Data Cube.11.x">135</property>
    <property name="Data Cube.11.y">80</property>
    <method name="initialize"><![CDATA[importPackage(Packages.com.ibm.tivoli.maximo.report.script);

mxReportScriptContext = MXReportScriptContext.initialize(reportContext);


mxReportScriptContext = MXReportScriptContext.initialize(reportContext);
mxReportScriptContext.setDefaultLogLevel("DEBUG");
mxReportScriptContext.setDefaultLogFile("c:/temp/tetttt.txt");
]]></method>
    <method name="afterFactory"><![CDATA[MXReportScriptContext.close();]]></method>
    <property name="theme">MaximoSystemLibrary.maximoTheme</property>
    <text-property name="displayName">Tivoli Maximo Grouped Chart Template</text-property>
    <list-property name="libraries">
        <structure>
            <property name="fileName">MaximoSystemLibrary.rptlibrary</property>
            <property name="namespace">MaximoSystemLibrary</property>
        </structure>
    </list-property>
    <parameters>
        <scalar-parameter name="where" id="25">
            <property name="valueType">static</property>
            <property name="dataType">string</property>
            <property name="isRequired">false</property>
            <property name="controlType">text-box</property>
            <property name="defaultValue">1=1</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="appname" id="240">
            <property name="valueType">static</property>
            <property name="dataType">string</property>
            <property name="isRequired">false</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="mroSite" id="7964">
            <property name="valueType">static</property>
            <property name="dataType">integer</property>
            <property name="paramType">simple</property>
            <property name="isRequired">false</property>
            <property name="controlType">text-box</property>
            <property name="distinct">true</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="year" id="12217">
            <property name="valueType">static</property>
            <property name="dataType">string</property>
            <property name="paramType">simple</property>
            <property name="isRequired">false</property>
            <property name="controlType">text-box</property>
            <property name="distinct">true</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="pred" id="12531">
            <property name="valueType">static</property>
            <property name="dataType">string</property>
            <property name="paramType">simple</property>
            <property name="isRequired">true</property>
            <property name="controlType">text-box</property>
            <property name="distinct">true</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="osmotr" id="12532">
            <property name="valueType">static</property>
            <property name="dataType">string</property>
            <property name="paramType">simple</property>
            <property name="controlType">text-box</property>
            <property name="distinct">true</property>
            <structure name="format">
                <property name="category">Unformatted</property>
            </structure>
        </scalar-parameter>
    </parameters>
    <data-sources>
        <script-data-source name="maximoDataSource" id="64" extends="MaximoSystemLibrary.maximoDataSource"/>
    </data-sources>
    <data-sets>
        <script-data-set name="11" id="7971">
            <list-property name="resultSetHints">
                <structure>
                    <property name="position">1</property>
                    <property name="name">ASSETNUM</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">WONUM</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">KM</property>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">ZVENO</property>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="position">5</property>
                    <property name="name">ASSETATTRID</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">6</property>
                    <property name="name">NUMVALUE</property>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="position">7</property>
                    <property name="name">NUM</property>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="position">8</property>
                    <property name="name">ED_IZM</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">9</property>
                    <property name="name">NUM_SORT</property>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">PREZIDENT</property>
                </structure>
                <structure>
                    <property name="columnName">ST_DAY</property>
                </structure>
                <structure>
                    <property name="columnName">INSPECSTART</property>
                </structure>
                <structure>
                    <property name="columnName">ST_MONTH</property>
                </structure>
                <structure>
                    <property name="columnName">INSPECSTOP</property>
                </structure>
                <structure>
                    <property name="columnName">MON</property>
                </structure>
                <structure>
                    <property name="columnName">ROUTE_LOC_NOM</property>
                </structure>
                <structure>
                    <property name="columnName">ASSETNUM</property>
                </structure>
                <structure>
                    <property name="columnName">WONUM</property>
                </structure>
                <structure>
                    <property name="columnName">KM</property>
                </structure>
                <structure>
                    <property name="columnName">ZVENO</property>
                </structure>
                <structure>
                    <property name="columnName">ASSETATTRID</property>
                </structure>
                <structure>
                    <property name="columnName">NUMVALUE</property>
                </structure>
                <structure>
                    <property name="columnName">NUM</property>
                </structure>
                <structure>
                    <property name="columnName">ED_IZM</property>
                </structure>
                <structure>
                    <property name="columnName">NUM_SORT</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">ASSETNUM</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">WONUM</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">KM</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">ZVENO</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">ASSETATTRID</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">NUMVALUE</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">NUM</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">8</property>
                        <property name="name">ED_IZM</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">9</property>
                        <property name="name">NUM_SORT</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">maximoDataSource</property>
            <method name="open"><![CDATA[maximoDataSet = MXReportDataSetProvider.create(this.getDataSource().getName(), this.getName());
maximoDataSet.open();

//if(params["date2"]=='' || params["date2"] == null || params["date2"] == '""' )
//{params["date2"]=  "sysdate";}
//else if(params["date2"]!='')
//{params["date2"]=  "'"+params["date2"]+"'";}
if(params["year"]=='' || params["year"] == null || params["year"] == '""' )
params["year"]=BirtDateTime.year(BirtDateTime.now());

params["pred"]=params["pred"].replace("=","");

var sqlText = new String();

sqlText = " "     
   +" WITH defect AS "
 +"      (SELECT wo.pmnum             , "
 +"              ast.assetnum         , "
 +"              wo.wonum             , "
 +"              mal_i.MEASUREKM km   , "
 +"              point.element   zveno, "
 +"              point_spc.assetattrid, "
 +"              CASE "
 +"                      WHEN point_spc.assetattrid IN ('DEFECT_PRUGIN_RELS_SOEDINITEL'    , "
 +"                                                     'DEFECT_SHTEPSELNY_RELS_SOEDINITEL', "
 +"                                                     'DEFECT_PRIVARNOY_RELS_SOEDINITEL' , "
 +"                                                     'OTSUT_PRUGIN_RELS_SOEDINITEL'     , "
 +"                                                     'OTSUT_PRIVARN_RELS_SOEDINITEL'    , "
 +"                                                     'OTSUT_SHTEPSEL_RELS_SOEDINITEL') "
 +"                      THEN '21Требуется  приварить  соединителей весной' "
 +"                      WHEN point_spc.assetattrid IN ('NEDOST_KOLICHESTVO_STYK_BOLT') "
 +"                      THEN '31Недостает стыковых болтов весной' "
 +"                      WHEN point_spc.assetattrid IN ('NEGOD_PODREL_PROKLADKI', "
 +"                                                     'OTSUT_PODREL_PROKLADKI') "
 +"                      THEN '41Требуется заменить подрельсовой прокладки весной' "
 +"                      WHEN point_spc.assetattrid IN ('NEGOD_PROKLADKI_POD_PODKLADK', "
 +"                                                     'OTSUT_PROKLADKI_POD_PODKLADK') "
 +"                      THEN '51Требуется заменить нашпальной прокладки весной' "
 +"                      WHEN point_spc.assetattrid IN ('DEFECT_PODKLADKI', "
 +"                                                     'IZLOM_PODKLADKI' , "
 +"                                                     'OTSUT_PODKLADKI') "
 +"                      THEN '61Наличие дефектных подкладок весной' "
 +"                      WHEN point_spc.assetattrid IN ('OSLAB_ZAKLADN_BOLT') "
 +"                      THEN '71Закрепить закладных болтов весной' "
 +"                      WHEN point_spc.assetattrid IN ('OSLAB_KLEMMBOLT') "
 +"                      THEN '72Закрепить клеммных болтов весной' "
 +"                      WHEN point_spc.assetattrid IN ('OTSUT_GAYKI_ZAKLADN_BOLT', "
 +"                                                     'OTSUT_SHAYBY_ZAKLADN_BOLT') "
 +"                      THEN '73Заменить и дополнить  закладных болтов весной' "
 +"                      WHEN point_spc.assetattrid IN ('DEFORM_KLEMMBOLT', "
 +"                                                     'OTSUT_KLEMMBOLT') "
 +"                      THEN '74Заменить и дополнить клеммных болтов весной' "
 +"              END assetattrid1, "
 +"              CASE "
 +"                      WHEN point_spc.assetattrid IN ('DEFECT_SHTEPSELNY_RELS_SOEDINITEL', "
 +"                                                     'OTSUT_SHTEPSEL_RELS_SOEDINITEL') "
 +"                      THEN '22Требуется установить штепс. соединители весной' "
 +"              END   assetattrid2, "
 +"              'шт.' ed_izm      , "
 +"              mal_i.RATING      , "
 +"              point_spc.numvalue "
 +"      FROM    maximo.workorder wo "
 +"              JOIN maximo.pm "
 +"              ON      wo.pmnum  = pm.pmnum "
 +"              AND     wo.siteid = pm.siteid "
 +"              JOIN maximo.masterpm mpm "
 +"              ON      pm.masterpm = mpm.masterpmnum "
 +"              JOIN maximo.decree dc "
 +"              ON      mpm.decreeid        = dc.decreeid "
 +"              AND     wo.siteid           = dc.siteid "
 +"              AND     dc.classstructureid = '010002000100' "
 +"              JOIN MAXIMO.multiassetlocci_INSPEC mal_i "
 +"              ON      mal_i.wonum     = wo.wonum "
 +"              AND     mal_i.siteid    = wo.siteid "
 +"              AND     MAL_I.IS_OSMOTR = '1' "
 +"              JOIN maximo.asset ast "
 +"              ON      mal_i.assetnum = ast.assetnum "
 +"              AND     wo.siteid      = ast.siteid "
 +"              AND     ast.itemnum IN ('ПУТЬП', "
 +"                                      'ГППС') "
 +"              JOIN MAXIMO.inspec_point point "
 +"              ON      mal_i.multiassetlocci_inspecid = point.multiassetlocci_inspecid "
 +"              AND     mal_i.wonum                    = point.wonum "
 +"              AND     mal_i.siteid                   = point.siteid "
 +"              JOIN MAXIMO.inspec_pointspec point_spc "
 +"              ON      point.inspec_pointid = point_spc.inspec_pointid "
 +"              AND     point.siteid         = point_spc.siteid "
 +"      WHERE   wo.siteid                    = '24' "
 +"      AND     wo.typeworkorder             = 'Промер' "
 +"      AND     wo.classstructureid          = '010002000110' "
 +"      AND     mal_i.FAKT_DATE_OS BETWEEN '1.07.13' AND     '15.07.13' "
 +"      AND     wo.l_podr = 'PODR_449' "
 +"      AND     point_spc.assetattrid IN ('DEFECT_PRUGIN_RELS_SOEDINITEL'    , "
 +"                                        'DEFECT_SHTEPSELNY_RELS_SOEDINITEL', "
 +"                                        'DEFECT_PRIVARNOY_RELS_SOEDINITEL' , "
 +"                                        'OTSUT_PRUGIN_RELS_SOEDINITEL'     , "
 +"                                        'OTSUT_PRIVARN_RELS_SOEDINITEL'    , "
 +"                                        'OTSUT_SHTEPSEL_RELS_SOEDINITEL'   , "
 +"                                        'NEDOST_KOLICHESTVO_STYK_BOLT'     , "
 +"                                        'NEGOD_PODREL_PROKLADKI'           , "
 +"                                        'OTSUT_PODREL_PROKLADKI'           , "
 +"                                        'NEGOD_PROKLADKI_POD_PODKLADK'     , "
 +"                                        'OTSUT_PROKLADKI_POD_PODKLADK'     , "
 +"                                        'DEFECT_PODKLADKI'                 , "
 +"                                        'IZLOM_PODKLADKI'                  , "
 +"                                        'OTSUT_PODKLADKI'                  , "
 +"                                        'OSLAB_ZAKLADN_BOLT'               , "
 +"                                        'OSLAB_KLEMMBOLT'                  , "
 +"                                        'OTSUT_GAYKI_ZAKLADN_BOLT'         , "
 +"                                        'OTSUT_SHAYBY_ZAKLADN_BOLT'        , "
 +"                                        'DEFORM_KLEMMBOLT'                 , "
 +"                                        'OTSUT_KLEMMBOLT') "
 +"      AND     ast.assetnum    = '110000085763' "
 +"      AND     mal_i.MEASUREKM = '521' "
 +"      ) "
 +"      , "
 +"     "
 +" zazor AS "
 +" ( SELECT   ast.assetnum         , "
 +"           wo.wonum              , "
 +"           mal_i.MEASUREKM km    , "
 +"           point.element   zveno , "
 +"           point_spc.assetattrid , "
 +"           CASE "
 +"                     WHEN point_spc.assetattrid='BUTTGAPRIGHT' "
 +"                     THEN '11Стыковой зазор (правая нитка) весной' "
 +"                     WHEN point_spc.assetattrid='BUTTGAPLEFT' "
 +"                     THEN '12Стыковой зазор (левая нитка) весной' "
 +"           END  assetattrid1, "
 +"           ''   assetattrid2, "
 +"           'мм' ed_izm      , "
 +"           mal_i.RATING     , "
 +"           point_spc.numvalue "
 +" FROM      maximo.workorder wo "
 +"           JOIN maximo.pm "
 +"           ON        wo.pmnum  = pm.pmnum "
 +"           AND       wo.siteid = pm.siteid "
 +"           JOIN maximo.masterpm mpm "
 +"           ON        pm.masterpm = mpm.masterpmnum "
 +"           JOIN maximo.decree dc "
 +"           ON        mpm.decreeid        = dc.decreeid "
 +"           AND       wo.siteid           = dc.siteid "
 +"           AND       dc.classstructureid = '010002000100' "
 +"           JOIN MAXIMO.multiassetlocci_INSPEC mal_i "
 +"           ON        mal_i.wonum     = wo.wonum "
 +"           AND       mal_i.siteid    = wo.siteid "
 +"           AND       MAL_I.IS_OSMOTR = '1' "
 +"           JOIN maximo.asset ast "
 +"           ON        mal_i.assetnum = ast.assetnum "
 +"           AND       ast.itemnum IN ('ПУТЬП', "
 +"                                     'ГППС') "
 +"           LEFT JOIN maximo.locationspec lspc "
 +"           ON        ast.location     = lspc.location "
 +"           AND       ast.siteid       = lspc.siteid "
 +"           AND       lspc.ASSETATTRID = 'AMPLITUDA' "
 +"           JOIN MAXIMO.inspec_point point "
 +"           ON        mal_i.multiassetlocci_inspecid = point.multiassetlocci_inspecid "
 +"           AND       mal_i.wonum                    = point.wonum "
 +"           AND       mal_i.siteid                   = point.siteid "
 +"           JOIN MAXIMO.inspec_pointspec point_spc "
 +"           ON        point.inspec_pointid = point_spc.inspec_pointid "
 +"           AND       point.siteid         = point_spc.siteid "
 +" WHERE     wo.siteid                      = '24' "
 +" AND       wo.typeworkorder               = 'Промер' "
 +" AND       wo.classstructureid            = '010002000103' "
 +" AND       mal_i.FAKT_DATE_OS BETWEEN '1.07.2013' AND       '17.08.2013' "
 +" AND       wo.l_podr       = 'PODR_108' "
 +" AND       ast.assetnum    = 'A484325' "
 +" AND       mal_i.MEASUREKM = '438' "
 +" AND       point_spc.assetattrid IN ('BUTTGAPLEFT', "
 +"                                     'BUTTGAPRIGHT') "
 +" ) "
 +"     "
 +" SELECT   assetnum                                                      , "
 +"          wonum                                                         , "
 +"          km                                                            , "
 +"          zveno                                                         , "
 +"          SUBSTR(assetattrid1, 0, 2)                        num_sort    , "
 +"          SUBSTR(assetattrid1, 0, 1)                        num         , "
 +"          SUBSTR(assetattrid1, 3, LENGTH(assetattrid1) - 2) assetattrid , "
 +"          ed_izm                                                        , "
 +"          SUM (numvalue) numvalue "
 +" FROM     defect "
 +" GROUP BY assetnum                                       , "
 +"          wonum                                          , "
 +"          km                                             , "
 +"          zveno                                          , "
 +"          SUBSTR(assetattrid1, 0, 2)                     , "
 +"          SUBSTR(assetattrid1, 0, 1)                     , "
 +"          SUBSTR(assetattrid1, 3, LENGTH(assetattrid1)-2), "
 +"          ed_izm "
 +"  "
 +" UNION ALL "
 +"  "
 +" SELECT   assetnum                                                      , "
 +"          wonum                                                         , "
 +"          km                                                            , "
 +"          zveno                                                         , "
 +"          SUBSTR(assetattrid2, 0, 2)                        num_sort    , "
 +"          SUBSTR(assetattrid2, 0, 1)                        num         , "
 +"          SUBSTR(assetattrid2, 3, LENGTH(assetattrid2) - 2) assetattrid , "
 +"          ed_izm                                                        , "
 +"          SUM (numvalue) numvalue "
 +" FROM     defect "
 +" WHERE    assetattrid2 IS NOT NULL "
 +" GROUP BY assetnum                                       , "
 +"          wonum                                          , "
 +"          km                                             , "
 +"          zveno                                          , "
 +"          SUBSTR(assetattrid2, 0, 2)                     , "
 +"          SUBSTR(assetattrid2, 0, 1)                     , "
 +"          SUBSTR(assetattrid2, 3, LENGTH(assetattrid2)-2), "
 +"          ed_izm "
 +"  "
 +" UNION ALL "
 +"  "
 +" SELECT   assetnum                                                      , "
 +"          wonum                                                         , "
 +"          km                                                            , "
 +"          zveno                                                         , "
 +"          SUBSTR(assetattrid1, 0, 2)                        num_sort    , "
 +"          SUBSTR(assetattrid1, 0, 1)                        num         , "
 +"          SUBSTR(assetattrid1, 3, LENGTH(assetattrid1) - 2) assetattrid , "
 +"          ed_izm                                                        , "
 +"          SUM (numvalue) numvalue "
 +" FROM     zazor "
 +" GROUP BY assetnum                                       , "
 +"          wonum                                          , "
 +"          km                                             , "
 +"          zveno                                          , "
 +"          SUBSTR(assetattrid1, 0, 2)                     , "
 +"          SUBSTR(assetattrid1, 0, 1)                     , "
 +"          SUBSTR(assetattrid1, 3, LENGTH(assetattrid1)-2), "
 +"          ed_izm "
 +"  "
 +" UNION ALL "
 +"  "
 +" SELECT ''                 assetnum    , "
 +"        ''                 wonum       , "
 +"        to_number('')      km          , "
 +"        1                  zveno       , "
 +"        '99'               num         , "
 +"        '15'               num_sort    , "
 +"        'Оценка километра' assetattrid , "
 +"        NVL( "
 +"              ( SELECT DISTINCT rating "
 +"              FROM             defect "
 +"              ) "
 +"            , "
 +"            ( SELECT DISTINCT rating "
 +"            FROM             zazor "
 +"            ) "
 +"            )         ed_izm , "
 +"        to_number('') numvalue "
 +" FROM   dual "


;


maximoDataSet.setQuery(sqlText);]]></method>
            <method name="fetch"><![CDATA[if (!maximoDataSet.fetch())
	return (false);

row["ASSETNUM"] = maximoDataSet.getString("ASSETNUM");
row["WONUM"] = maximoDataSet.getString("WONUM");
row["KM"] = maximoDataSet.getString("KM");
row["ZVENO"] = maximoDataSet.getString("ZVENO");
row["NUM_SORT"] = maximoDataSet.getString("NUM_SORT");
row["NUM"] = maximoDataSet.getString("NUM");
row["ASSETATTRID"] = maximoDataSet.getString("ASSETATTRID");
row["ED_IZM"] = maximoDataSet.getString("ED_IZM");
row["NUMVALUE"] = maximoDataSet.getString("NUMVALUE");

	
return (true);]]></method>
        </script-data-set>
        <script-data-set name="111" id="11901">
            <list-property name="resultSetHints">
                <structure>
                    <property name="position">1</property>
                    <property name="name">D</property>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">TIP</property>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">D</property>
                </structure>
                <structure>
                    <property name="columnName">INVLAST</property>
                </structure>
                <structure>
                    <property name="columnName">SETLAST</property>
                </structure>
                <structure>
                    <property name="columnName">LOCATION</property>
                </structure>
                <structure>
                    <property name="columnName">ASSETNUM</property>
                </structure>
                <structure>
                    <property name="columnName">sdrgagr</property>
                </structure>
                <structure>
                    <property name="columnName">DOR</property>
                </structure>
                <structure>
                    <property name="columnName">GOD</property>
                </structure>
                <structure>
                    <property name="columnName">TIP</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">D</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">TIP</property>
                        <property name="dataType">string</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">maximoDataSource</property>
            <method name="open"><![CDATA[maximoDataSet = MXReportDataSetProvider.create(this.getDataSource().getName(), this.getName());
maximoDataSet.open();

//if(params["date2"]=='' || params["date2"] == null || params["date2"] == '""' )
//{params["date2"]=  ;}
//else if(params["date2"]!='')
//{params["date2"]=  "'"+params["date2"]+"'";}
//params["putp"] = params["putp"].replace("=","");

var sqlText = new String();

sqlText =  "select description d, substr (location, 1, 5) tip from maximo.locations where location = '"+params["pred"]+"'"

;


maximoDataSet.setQuery(sqlText);]]></method>
            <method name="fetch"><![CDATA[if (!maximoDataSet.fetch())
	return (false);




row["D"] = maximoDataSet.getString("D");
row["TIP"] = maximoDataSet.getString("TIP");

	
return (true);]]></method>
        </script-data-set>
    </data-sets>
    <cubes>
        <tabular-cube name="Data Cube" id="12910">
            <property name="dimensions">
                <tabular-dimension name="Group1" id="13005">
                    <property name="defaultHierarchy">NewTabularHierarchy1</property>
                    <property name="hierarchies">
                        <tabular-hierarchy name="NewTabularHierarchy1" id="13006">
                            <property name="levels">
                                <tabular-level name="ZVENO" id="13007">
                                    <property name="dataType">integer</property>
                                    <property name="columnName">ZVENO</property>
                                </tabular-level>
                            </property>
                        </tabular-hierarchy>
                    </property>
                </tabular-dimension>
                <tabular-dimension name="Group" id="13068">
                    <property name="defaultHierarchy">NewTabularHierarchy</property>
                    <property name="hierarchies">
                        <tabular-hierarchy name="NewTabularHierarchy" id="13069">
                            <property name="levels">
                                <tabular-level name="NUM" id="13070">
                                    <property name="dataType">integer</property>
                                    <property name="columnName">NUM</property>
                                </tabular-level>
                                <tabular-level name="NUM_SORT" id="13071">
                                    <property name="dataType">string</property>
                                    <property name="columnName">NUM_SORT</property>
                                </tabular-level>
                                <tabular-level name="ASSETATTRID" id="13072">
                                    <property name="dataType">string</property>
                                    <property name="columnName">ASSETATTRID</property>
                                </tabular-level>
                                <tabular-level name="ED_IZM" id="13073">
                                    <property name="dataType">string</property>
                                    <property name="columnName">ED_IZM</property>
                                </tabular-level>
                            </property>
                        </tabular-hierarchy>
                    </property>
                </tabular-dimension>
            </property>
            <property name="measureGroups">
                <tabular-measure-group name="Summary Field" id="12917">
                    <property name="measures">
                        <tabular-measure name="NUMVALUE" id="12918">
                            <expression name="measureExpression">dataSetRow["NUMVALUE"]</expression>
                            <property name="dataType">integer</property>
                        </tabular-measure>
                    </property>
                </tabular-measure-group>
            </property>
            <property name="dataSet">11</property>
        </tabular-cube>
    </cubes>
    <page-setup>
        <simple-master-page name="maximoLandscape" id="47" extends="MaximoSystemLibrary.maximoLandscape">
            <property name="type">a4</property>
            <overridden-values>
                <ref-entry baseId="304" name="NewGrid2" id="304"/>
                <ref-entry baseId="305" id="305"/>
                <ref-entry baseId="306" id="306"/>
                <ref-entry baseId="307" id="307"/>
                <ref-entry baseId="308" id="308"/>
                <ref-entry baseId="340" name="NewImage1" id="340">
                    <property name="source">file</property>
                    <expression name="uri">"IBM_logo_Black.gif"</expression>
                    <property name="height">1px</property>
                    <property name="width">3px</property>
                </ref-entry>
                <ref-entry baseId="309" id="309"/>
                <ref-entry baseId="310" name="NewImage" id="310">
                    <property name="height">1px</property>
                    <property name="width">3px</property>
                </ref-entry>
                <ref-entry baseId="322" name="NewGrid" id="322"/>
                <ref-entry baseId="323" id="323"/>
                <ref-entry baseId="324" id="324"/>
                <ref-entry baseId="325" id="325"/>
                <ref-entry baseId="326" id="326"/>
                <ref-entry baseId="328" name="NewText" id="328">
                    <list-property name="visibility">
                        <structure>
                            <property name="format">all</property>
                            <expression name="valueExpr">true</expression>
                        </structure>
                    </list-property>
                </ref-entry>
                <ref-entry baseId="327" id="327"/>
                <ref-entry baseId="329" name="NewGrid1" id="329"/>
                <ref-entry baseId="330" id="330"/>
                <ref-entry baseId="331" id="331"/>
                <ref-entry baseId="332" id="332"/>
                <ref-entry baseId="333" id="333"/>
                <ref-entry baseId="334" id="334"/>
                <ref-entry baseId="335" name="NewAutoText" id="335">
                    <list-property name="visibility">
                        <structure>
                            <property name="format">all</property>
                            <expression name="valueExpr">true</expression>
                        </structure>
                    </list-property>
                </ref-entry>
                <ref-entry baseId="336" id="336"/>
                <ref-entry baseId="337" name="NewText1" id="337">
                    <list-property name="visibility">
                        <structure>
                            <property name="format">all</property>
                            <expression name="valueExpr">true</expression>
                        </structure>
                    </list-property>
                </ref-entry>
                <ref-entry baseId="338" id="338"/>
                <ref-entry baseId="339" name="NewAutoText1" id="339">
                    <list-property name="visibility">
                        <structure>
                            <property name="format">all</property>
                            <expression name="valueExpr">true</expression>
                        </structure>
                    </list-property>
                </ref-entry>
            </overridden-values>
        </simple-master-page>
    </page-setup>
    <body>
        <label id="12221"/>
        <label id="12222">
            <property name="fontSize">medium</property>
            <property name="fontWeight">bold</property>
            <property name="textAlign">center</property>
            <text-property name="text">График</text-property>
        </label>
        <data id="12365">
            <property name="fontSize">medium</property>
            <property name="fontWeight">normal</property>
            <property name="textAlign">center</property>
            <property name="dataSet">111</property>
            <list-property name="boundDataColumns">
                <structure>
                    <property name="name">D</property>
                    <property name="displayName">D</property>
                    <expression name="expression">if (params["osmotr"].value == '010002000100') 
 this.text ="работы комиссий " + dataSetRow["D"] + " по проводению весеннего осмотра пути и искуственных сооружений,";
if (params["osmotr"].value == '010002000101') 
this.text ="работы комиссий " + dataSetRow["D"] + " по проводению осеннего осмотра пути и искуственных сооружений,";
//params["osmotr"].value</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <property name="resultSetColumn">D</property>
        </data>
        <data id="12223">
            <property name="fontSize">medium</property>
            <property name="fontWeight">normal</property>
            <property name="textAlign">center</property>
            <list-property name="boundDataColumns">
                <structure>
                    <property name="name">Column Binding</property>
                    <expression name="expression">" земляного полотна, переездов и обустройства путевого хозяйства в " +params["year"]+ " год"</expression>
                    <property name="dataType">string</property>
                </structure>
            </list-property>
            <property name="resultSetColumn">Column Binding</property>
        </data>
        <label id="7970"/>
        <extended-item extensionName="Crosstab" extensionVersion="2.3.0" id="13074">
            <property name="measures">
                <extended-item extensionName="MeasureView" id="13094">
                    <property name="measure">NUMVALUE</property>
                    <property name="detail">
                        <extended-item extensionName="AggregationCell" id="13095">
                            <property name="aggregationOnRow">Group/ED_IZM</property>
                            <property name="aggregationOnColumn">Group1/ZVENO</property>
                            <property name="borderTopStyle">solid</property>
                            <property name="borderTopWidth">thin</property>
                            <property name="borderTopColor">#000000</property>
                            <property name="borderLeftStyle">solid</property>
                            <property name="borderLeftWidth">thin</property>
                            <property name="borderLeftColor">#000000</property>
                            <property name="borderBottomStyle">solid</property>
                            <property name="borderBottomWidth">thin</property>
                            <property name="borderBottomColor">#000000</property>
                            <property name="borderRightStyle">solid</property>
                            <property name="borderRightWidth">thin</property>
                            <property name="borderRightColor">#000000</property>
                            <property name="content">
                                <data id="13096">
                                    <property name="resultSetColumn">NUMVALUE_Group/ED_IZM_Group1/ZVENO</property>
                                </data>
                            </property>
                        </extended-item>
                    </property>
                    <property name="header">
                        <extended-item extensionName="CrosstabCell" id="13097">
                            <property name="borderLeftStyle">solid</property>
                            <property name="borderLeftWidth">thin</property>
                            <property name="borderLeftColor">#000000</property>
                            <property name="borderBottomStyle">solid</property>
                            <property name="borderBottomWidth">thin</property>
                            <property name="borderBottomColor">#000000</property>
                            <property name="borderRightStyle">solid</property>
                            <property name="borderRightWidth">thin</property>
                            <property name="borderRightColor">#000000</property>
                        </extended-item>
                    </property>
                </extended-item>
            </property>
            <property name="rows">
                <extended-item extensionName="CrosstabView" id="13076">
                    <property name="views">
                        <extended-item extensionName="DimensionView" id="13081">
                            <property name="dimension">Group</property>
                            <property name="levels">
                                <extended-item extensionName="LevelView" name="NewLevel View1" id="13082">
                                    <property name="level">Group/NUM</property>
                                    <property name="member">
                                        <extended-item extensionName="CrosstabCell" id="13083">
                                            <property name="content">
                                                <data name="NUM" id="13084">
                                                    <property name="resultSetColumn">NUM</property>
                                                </data>
                                            </property>
                                            <property name="borderTopStyle">solid</property>
                                            <property name="borderTopWidth">thin</property>
                                            <property name="borderTopColor">#000000</property>
                                            <property name="borderLeftStyle">solid</property>
                                            <property name="borderLeftWidth">thin</property>
                                            <property name="borderLeftColor">#000000</property>
                                            <property name="borderBottomStyle">solid</property>
                                            <property name="borderBottomWidth">thin</property>
                                            <property name="borderBottomColor">#000000</property>
                                        </extended-item>
                                    </property>
                                </extended-item>
                                <extended-item extensionName="LevelView" name="NewLevel View2" id="13085">
                                    <property name="level">Group/NUM_SORT</property>
                                    <property name="member">
                                        <extended-item extensionName="CrosstabCell" id="13086">
                                            <property name="content">
                                                <data name="NUM_SORT" id="13087">
                                                    <list-property name="visibility">
                                                        <structure>
                                                            <property name="format">all</property>
                                                            <expression name="valueExpr">true</expression>
                                                        </structure>
                                                    </list-property>
                                                    <property name="resultSetColumn">NUM_SORT</property>
                                                </data>
                                            </property>
                                            <property name="textAlign">left</property>
                                            <property name="borderTopStyle">solid</property>
                                            <property name="borderTopWidth">thin</property>
                                            <property name="borderTopColor">#000000</property>
                                            <property name="borderBottomStyle">solid</property>
                                            <property name="borderBottomWidth">thin</property>
                                            <property name="borderBottomColor">#000000</property>
                                            <property name="borderRightStyle">solid</property>
                                            <property name="borderRightWidth">thin</property>
                                            <property name="borderRightColor">#000000</property>
                                        </extended-item>
                                    </property>
                                </extended-item>
                                <extended-item extensionName="LevelView" name="NewLevel View3" id="13088">
                                    <property name="level">Group/ASSETATTRID</property>
                                    <property name="member">
                                        <extended-item extensionName="CrosstabCell" id="13089">
                                            <property name="content">
                                                <data name="ASSETATTRID" id="13090">
                                                    <property name="resultSetColumn">ASSETATTRID</property>
                                                </data>
                                            </property>
                                            <property name="textAlign">left</property>
                                            <property name="borderTopStyle">solid</property>
                                            <property name="borderTopWidth">thin</property>
                                            <property name="borderTopColor">#000000</property>
                                            <property name="borderLeftStyle">solid</property>
                                            <property name="borderLeftWidth">thin</property>
                                            <property name="borderLeftColor">#000000</property>
                                            <property name="borderBottomStyle">solid</property>
                                            <property name="borderBottomWidth">thin</property>
                                            <property name="borderBottomColor">#000000</property>
                                            <property name="borderRightStyle">solid</property>
                                            <property name="borderRightWidth">thin</property>
                                            <property name="borderRightColor">#000000</property>
                                        </extended-item>
                                    </property>
                                </extended-item>
                                <extended-item extensionName="LevelView" name="NewLevel View4" id="13091">
                                    <property name="level">Group/ED_IZM</property>
                                    <property name="member">
                                        <extended-item extensionName="CrosstabCell" id="13092">
                                            <property name="content">
                                                <data name="ED_IZM" id="13093">
                                                    <property name="resultSetColumn">ED_IZM</property>
                                                </data>
                                            </property>
                                            <property name="borderTopStyle">solid</property>
                                            <property name="borderTopWidth">thin</property>
                                            <property name="borderTopColor">#000000</property>
                                            <property name="borderLeftStyle">solid</property>
                                            <property name="borderLeftWidth">thin</property>
                                            <property name="borderLeftColor">#000000</property>
                                            <property name="borderBottomStyle">solid</property>
                                            <property name="borderBottomWidth">thin</property>
                                            <property name="borderBottomColor">#000000</property>
                                            <property name="borderRightStyle">solid</property>
                                            <property name="borderRightWidth">thin</property>
                                            <property name="borderRightColor">#000000</property>
                                        </extended-item>
                                    </property>
                                </extended-item>
                            </property>
                        </extended-item>
                    </property>
                </extended-item>
            </property>
            <property name="columns">
                <extended-item extensionName="CrosstabView" id="13099">
                    <property name="views">
                        <extended-item extensionName="DimensionView" id="13077">
                            <property name="dimension">Group1</property>
                            <property name="levels">
                                <extended-item extensionName="LevelView" name="NewLevel View" id="13078">
                                    <property name="level">Group1/ZVENO</property>
                                    <property name="member">
                                        <extended-item extensionName="CrosstabCell" id="13079">
                                            <property name="content">
                                                <data name="ZVENO" id="13080">
                                                    <property name="resultSetColumn">ZVENO</property>
                                                </data>
                                            </property>
                                            <property name="borderTopStyle">solid</property>
                                            <property name="borderTopWidth">thin</property>
                                            <property name="borderTopColor">#000000</property>
                                            <property name="borderLeftStyle">solid</property>
                                            <property name="borderLeftWidth">thin</property>
                                            <property name="borderLeftColor">#000000</property>
                                            <property name="borderRightStyle">solid</property>
                                            <property name="borderRightWidth">thin</property>
                                            <property name="borderRightColor">#000000</property>
                                        </extended-item>
                                    </property>
                                </extended-item>
                            </property>
                        </extended-item>
                    </property>
                </extended-item>
            </property>
            <property name="header">
                <extended-item extensionName="CrosstabCell" id="13075"/>
            </property>
            <property name="cube">Data Cube</property>
            <list-property name="boundDataColumns">
                <structure>
                    <property name="name">ZVENO</property>
                    <expression name="expression">dimension["Group1"]["ZVENO"]</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">NUM</property>
                    <expression name="expression">dimension["Group"]["NUM"]</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">NUM_SORT</property>
                    <expression name="expression">dimension["Group"]["NUM_SORT"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">ASSETATTRID</property>
                    <expression name="expression">dimension["Group"]["ASSETATTRID"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">ED_IZM</property>
                    <expression name="expression">dimension["Group"]["ED_IZM"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">NUMVALUE_Group/ED_IZM</property>
                    <expression name="expression">measure["NUMVALUE"]</expression>
                    <property name="dataType">integer</property>
                    <simple-property-list name="aggregateOn">
                        <value>Group/ED_IZM</value>
                    </simple-property-list>
                    <property name="aggregateFunction">sum</property>
                </structure>
                <structure>
                    <property name="name">NUMVALUE_Group/ED_IZM_Group1/ZVENO</property>
                    <expression name="expression">measure["NUMVALUE"]</expression>
                    <property name="dataType">integer</property>
                    <simple-property-list name="aggregateOn">
                        <value>Group/ED_IZM</value>
                        <value>Group1/ZVENO</value>
                    </simple-property-list>
                    <property name="aggregateFunction">sum</property>
                </structure>
            </list-property>
        </extended-item>
    </body>
</report>
